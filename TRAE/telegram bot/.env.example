# 环境变量示例文件
# 复制此文件为 .env 并填入实际值

# ================================
# 应用基础配置
# ================================
APP_NAME=telegram-bot-platform
APP_VERSION=1.0.0
DEBUG=True
ENVIRONMENT=development

# API 配置
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=True

# ================================
# Telegram Bot 配置
# ================================
# 从 @BotFather 获取的 Bot Token
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Bot Webhook 设置（生产环境使用）
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/webhook
TELEGRAM_WEBHOOK_SECRET=your_webhook_secret

# ================================
# 数据库配置
# ================================
# PostgreSQL 数据库连接
DATABASE_URL=postgresql://postgres:password@localhost:5432/telegram_bot_db

# 数据库连接池配置
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=0
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# ================================
# Redis 配置
# ================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0

# Redis 连接池
REDIS_POOL_SIZE=10
REDIS_MAX_CONNECTIONS=20

# ================================
# Celery 配置
# ================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ================================
# 安全配置
# ================================
# JWT Secret Key - 请使用强随机字符串
SECRET_KEY=your_super_secret_key_here_please_change_in_production

# JWT 配置
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALGORITHM=HS256

# Telegram Mini App 验证
TELEGRAM_BOT_NAME=YourBotName

# ================================
# AI 服务配置（Phase 2 使用）
# ================================
# OpenAI API
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000

# Google AI Platform（可选）
GOOGLE_AI_API_KEY=your_google_ai_key_here

# AI 审核配置
AI_MODERATION_ENABLED=False
AI_MODERATION_THRESHOLD=0.8

# ================================
# 文件存储配置
# ================================
# 本地存储路径
UPLOAD_DIR=uploads
MEDIA_DIR=media
STORAGE_PATH=./storage
MEDIA_BASE_URL=http://localhost:8000/media
MAX_FILE_SIZE=10485760  # 10MB

# API 基础 URL（Bot 调用用）
API_BASE_URL=http://localhost:8000

# ================================
# 日志配置
# ================================
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# ================================
# 监控和错误追踪（Phase 5 使用）
# ================================
# Sentry DSN
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# ================================
# 地理位置服务
# ================================
# PostGIS 配置已包含在 DATABASE_URL 中
# 地理搜索默认半径（米）
DEFAULT_SEARCH_RADIUS=5000
MAX_SEARCH_RADIUS=50000

# ================================
# 限流配置
# ================================
# API 限流
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# Bot 限流
BOT_RATE_LIMIT_PER_MINUTE=20
BOT_RATE_LIMIT_PER_HOUR=200

# ================================
# 缓存配置
# ================================
# 缓存过期时间（秒）
CACHE_EXPIRE_TIME=3600
USER_CACHE_EXPIRE_TIME=1800
AD_CACHE_EXPIRE_TIME=900

# ================================
# 开发工具配置
# ================================
# 是否启用 API 文档
ENABLE_DOCS=True
ENABLE_REDOC=True

# 跨域配置
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5173"]
CORS_ALLOW_CREDENTIALS=True

# ================================
# Docker 服务配置
# ================================
# PostgreSQL
POSTGRES_DB=telegram_bot_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_PORT=5432

# Redis
REDIS_PORT=6379

# ================================
# AI 服务配置
# ================================
# OpenAI API
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000
AI_MODERATION_ENABLED=True
AI_MODERATION_THRESHOLD=0.8